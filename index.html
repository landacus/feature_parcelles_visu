<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualisation des prairies</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="app-container">
        <header id="filters-panel">
            <h1>Visualisation des prairies</h1>
            
            <label for="indicator-select">Caract√©ristique :</label>
            <select id="indicator-select" class="filter-mockup">
                <option value="altitude">Altitude moyenne (m)</option>
                <option value="pente">Pente moyenne (¬∞)</option>
            </select>

            <label style="margin-left: 20px;">Type de terrain :</label>
            <div class="dropdown" id="prairie-dropdown">
                <button class="filter-mockup" id="dropdown-btn">Tous les types <span style='font-size:10px'>‚ñº</span></button>
                <div class="dropdown-content" id="prairie-checkboxes">
                    </div>
            </div>
            
            <button class="filter-mockup" id="btn-scatter">
              üìä Altitude / Pente
            </button>

            <div id="search-container" style="margin-left: auto;">
                <input type="text" id="search-bar" placeholder="Rechercher un lieu...">
                <div id="search-results"></div>
            </div>
        </header>

        <main id="main-content">
            <div id="map-container">
                <div id="nav-controls">
                    <button id="btn-back">‚¨Ö Remonter</button>
                </div>
                <div id="legend"></div>
                <div id="tooltip"></div> 
                <svg id="map"></svg>
            </div>
            
            <div id="scatter-container" style="flex:1; display:none; background:white; position:relative;">
                <svg id="scatter-svg" width="100%" height="100%"></svg>
                <button id="scatter-back-btn" style="
                    position:absolute;
                    top:10px;
                    right:10px;
                    z-index:10;
                    display:none;
                ">
                ‚Üê Back
                </button>
            </div>

            <aside id="info-panel">
                <h2 id="info-title">S√©lectionnez une zone</h2>
                <div id="info-content">
                    <p>Niveau : <span id="panel-level">-</span></p>
                    <hr>
                    <p>Nombre de parcelles : <b id="nb-parcelles">-</b></p>
                    <p>Altitude moyenne : <b id="alt-val">-</b></p>
                    <p>Pente moyenne : <b id="pente-val">-</b></p>
                    <hr>
                    <h3>Top 5 des cultures (Surface)</h3>
                    <div id="top-prairies-chart" class="modern-chart-container"></div>
                </div>
            </aside>
        </main>
    </div>

    <div id="scatter-tooltip" 
         style="
            position:absolute;
            background:rgba(0,0,0,0.8);
            color:white;
            padding:8px 12px;
            border-radius:6px;
            font-size:13px;
            pointer-events:none;
            opacity:0;
            transition:opacity 0.2s;
            z-index: 10000;
         ">
    </div>
    <script type="module" src="app.js"></script>
</body>
</html>
